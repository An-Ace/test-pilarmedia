// schema.prisma
generator client {
  provider        = "prisma-client-js"
  binaryTargets   = ["native", "debian-openssl-1.1.x"]
  previewFeatures = ["relationJoins"]
}

datasource db {
  provider = "postgres"
  url      = "postgres://default:j8wkYSVbPXE5@ep-shiny-mountain-a1s6q7f3.ap-southeast-1.aws.neon.tech:5432/verceldb?sslmode=require"
}

model Sales {
  salesID       Int      @id @default(autoincrement())
  salesDate     DateTime @default(now())
  productID     Int
  salesAmount   Int
  salesPersonID Int

  isDeleted   Boolean       @default(false)
  product     Products?     @relation(fields: [productID], references: [productID], onUpdate: Cascade)
  salesPerson Salespersons? @relation(fields: [salesPersonID], references: [salesPersonID], onUpdate: Cascade)
}

model Products {
  productID   Int      @id @default(autoincrement())
  productName String
  price       Int
  description String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  isDeleted Boolean @default(false)
  sales     Sales[]
}

model Salespersons {
  salesPersonID   Int    @id @default(autoincrement())
  salesPersonName String
  password        String
  address         String
  phone           String

  isDeleted Boolean @default(false)
  sales     Sales[]
}
